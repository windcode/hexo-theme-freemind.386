<% if (theme.duoshuo_shortname) { %>
<script type="text/javascript">
  var duoshuoQuery = { short_name: '<%= theme.duoshuo_shortname %>' };
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';
    ds.async = true;
    ds.src = 'http://static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script>
<% } else if (config.disqus_shortname){ %>
<script type="text/javascript">
var disqus_shortname = '<%= config.disqus_shortname %>';
(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/<% if (page.comments){ %>embed.js<% } else { %>count.js<% } %>';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>
<% } else if (theme.gitalk.enable){ %>
<link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
<script src="https://cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.min.js"></script>
<style>
.gt-comment-content{
  border-radius: 10px;
}
</style>
<script type="text/javascript">
    var gitalk = new Gitalk({
      clientID:  '<%= theme.gitalk.clientID %>', 
      clientSecret: '<%= theme.gitalk.clientSecret %>',
      id: md5(window.location.pathname),
      repo: '<%= theme.gitalk.repo %>', 
      owner: '<%= theme.gitalk.owner %>', 
      admin: '<%= theme.gitalk.admin %>', 
      distractionFreeMode: '<%= theme.gitalk.distractionFreeMode %>',
    })
    console.log(md5(window.location.pathname));
    gitalk.render('gitalk-container')
</script>
<% } %>
